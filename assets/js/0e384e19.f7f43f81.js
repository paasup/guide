"use strict";(self.webpackChunkpaasup=self.webpackChunkpaasup||[]).push([[976],{2053:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"intro","title":"\uce74\ud0c8\ub85c\uadf8 \uc124\uc815\uac12 \uc608\uc81c","description":"Gitea \uc2dc\uc2a4\ud15c \uce74\ud0c8\ub85c\uadf8 (DB \uc678\ubd80 \ucc38\uc870)","source":"@site/docs/intro.md","sourceDirName":".","slug":"/intro","permalink":"/guide/docs/intro","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","next":{"title":"\uc124\uce58","permalink":"/guide/docs/category/\uc124\uce58"}}');var r=s(4848),a=s(8453);const i={sidebar_position:1},o="\uce74\ud0c8\ub85c\uadf8 \uc124\uc815\uac12 \uc608\uc81c",l={},c=[{value:"Gitea \uc2dc\uc2a4\ud15c \uce74\ud0c8\ub85c\uadf8 (DB \uc678\ubd80 \ucc38\uc870)",id:"gitea-\uc2dc\uc2a4\ud15c-\uce74\ud0c8\ub85c\uadf8-db-\uc678\ubd80-\ucc38\uc870",level:2},{value:"Gitea \uc77c\ubc18 \uce74\ud0c8\ub85c\uadf8 (DB \ub0b4\uc7a5)",id:"gitea-\uc77c\ubc18-\uce74\ud0c8\ub85c\uadf8-db-\ub0b4\uc7a5",level:2},{value:"Argo CD \uc2dc\uc2a4\ud15c \uce74\ud0c8\ub85c\uadf8",id:"argo-cd-\uc2dc\uc2a4\ud15c-\uce74\ud0c8\ub85c\uadf8",level:2},{value:"MLflow\uc640 S3 \uc0ac\uc6a9\ud560 \ub54c",id:"mlflow\uc640-s3-\uc0ac\uc6a9\ud560-\ub54c",level:2},{value:"MLflow\uc640  \ub0b4\ubd80 minio \uc0ac\uc6a9\ud560 \ub54c",id:"mlflow\uc640--\ub0b4\ubd80-minio-\uc0ac\uc6a9\ud560-\ub54c",level:2},{value:"MLflow\uc640 \uc678\ubd80 minio \uc0ac\uc6a9\ud560 \ub54c",id:"mlflow\uc640-\uc678\ubd80-minio-\uc0ac\uc6a9\ud560-\ub54c",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\uce74\ud0c8\ub85c\uadf8-\uc124\uc815\uac12-\uc608\uc81c",children:"\uce74\ud0c8\ub85c\uadf8 \uc124\uc815\uac12 \uc608\uc81c"})}),"\n",(0,r.jsx)(n.h2,{id:"gitea-\uc2dc\uc2a4\ud15c-\uce74\ud0c8\ub85c\uadf8-db-\uc678\ubd80-\ucc38\uc870",children:"Gitea \uc2dc\uc2a4\ud15c \uce74\ud0c8\ub85c\uadf8 (DB \uc678\ubd80 \ucc38\uc870)"}),"\n",(0,r.jsx)(n.p,{children:"Gitea \uc2dc\uc2a4\ud15c \uce74\ud0c8\ub85c\uadf8:"}),"\n",(0,r.jsx)(n.p,{children:"\uc544\ub798 \ud56d\ubaa9\uc740 \uc0ac\uc774\ud2b8\uc5d0 \ub530\ub77c \uc218\uc815\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"password"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'global:\n  imageRegistry: ""\n\ningress:\n  enabled: true\n  annotations:\n    kubernetes.io/ingress.class: nginx\n    nginx.ingress.kubernetes.io/proxy-body-size: 200m\n    cert-manager.io/cluster-issuer: "selfsigned-issuer" \n    cert-manager.io/duration: 8760h  \n    cert-manager.io/renew-before: 720h\n  hosts:\n    - host: gitea.{{ .Domain }}\n      paths:\n        - path: /\n          pathType: Prefix\n  tls:\n    - hosts:\n        host: gitea.{{ .Domain }}\n      secretName: platform\n\nextraVolumes:\n - name: gitea-tls\n   secret:\n     secretName: platform\n\nextraContainerVolumeMounts:\n  - name: gitea-tls\n    mountPath: /data/gitea/https\n\nlifecycleHooks:\n  postStart:\n    exec:\n      command: ["/bin/sh", "-c", "cp /data/gitea/https/tls.crt /usr/local/share/ca-certificates/; update-ca-certificates"]\n\n\nreplicaCount: 1\n\ntolerations: []\n\nnodeSelector: {}\n\nresources:\n  requests:\n    cpu: 100m\n    memory: 300Mi\n  limits:\n    cpu: 300m\n    memory: 500Mi\n\npersistence:\n  enabled: true\n  size: 10Gi\n  storageClass: ""\n\n\ngitea:\n  admin:   \n    username: sudouser\n    password: password\n    email: "sudouser@cro.com"\n  config:\n    APP_NAME: paasup git\n    RUN_MODE: prod\n    server:\n      ROOT_URL: https://gitea.{{ .Domain }}\n    database:\n      DB_TYPE: postgres\n      HOST: postgresql-ha-postgresql:5432\n      NAME: gitea\n      USER: gitea\n      PASSWD: gitea\n      CHARSET: utf8\n      SCHEMA: gitea\n      SSL_MODE: disable\n    session:\n      PROVIDER: postgres\n      PROVIDER_CONFIG: user=gitea password=gitea host=postgresql-ha-postgresql port=5432 dbname=gitea sslmode=disable\n      COOKIE_NAME: i_hate_gitea\n    service:\n      DEFAULT_ALLOW_CREATE_ORGANIZATION: true\n    repository:\n      DEFAULT_BRANCH: master\n'})}),"\n",(0,r.jsx)(n.h2,{id:"gitea-\uc77c\ubc18-\uce74\ud0c8\ub85c\uadf8-db-\ub0b4\uc7a5",children:"Gitea \uc77c\ubc18 \uce74\ud0c8\ub85c\uadf8 (DB \ub0b4\uc7a5)"}),"\n",(0,r.jsx)(n.p,{children:"Gitea \uc77c\ubc18 \uce74\ud0c8\ub85c\uadf8:"}),"\n",(0,r.jsx)(n.p,{children:"\uc544\ub798 \ud56d\ubaa9\uc740 \uc0ac\uc774\ud2b8\uc5d0 \ub530\ub77c \uc218\uc815\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"password"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'global:\n  imageRegistry: ""\n\ningress:\n  enabled: true\n  annotations:\n    kubernetes.io/ingress.class: nginx\n    nginx.ingress.kubernetes.io/proxy-body-size: 200m\n    cert-manager.io/cluster-issuer: "selfsigned-issuer" \n    cert-manager.io/duration: 8760h  \n    cert-manager.io/renew-before: 720h\n  hosts:\n    - host: {{ .Name }}.{{ .Domain }}\n      paths:\n        - path: /\n          pathType: Prefix\n  tls:\n    - hosts:\n        host: {{ .Name }}.{{ .Domain }}\n      secretName: {{ .Name }}-tls-secret\n\nextraVolumes:\n - name: gitea-tls\n   secret:\n     secretName: {{ .Name }}-tls-secret\n\nextraContainerVolumeMounts:\n  - name: gitea-tls\n    mountPath: /data/gitea/https\n\nlifecycleHooks:\n  postStart:\n    exec:\n      command: ["/bin/sh", "-c", "cp /data/gitea/https/tls.crt /usr/local/share/ca-certificates/; update-ca-certificates"]\n\n\nreplicaCount: 1\n\ntolerations: []\n\nnodeSelector: {}\n\nresources:\n  requests:\n    cpu: 100m\n    memory: 300Mi\n  limits:\n    cpu: 300m\n    memory: 500Mi\n\npersistence:\n  enabled: true\n  size: 10Gi\n  storageClass: ""\n\npostgresql:\n  enabled: true\n\ngitea:\n  admin:   \n    username: sudouser\n    password: password\n    email: "sudouser@paasup.io"\n  config:\n    APP_NAME: paasup git\n    RUN_MODE: prod\n    server:\n      ROOT_URL: https://{{ .Name }}.{{ .Domain }}\n    database:\n      DB_TYPE: postgres\n      HOST: {{ .Name }}-postgresql:5432\n      NAME: gitea\n      USER: gitea\n      PASSWD: gitea\n      CHARSET: utf8\n      SCHEMA: public\n      SSL_MODE: disable\n    session:\n      PROVIDER: postgres\n      PROVIDER_CONFIG: user=gitea password=gitea host={{ .Name }}-postgresql port=5432 dbname=gitea sslmode=disable\n      COOKIE_NAME: i_hate_gitea\n    service:\n      DEFAULT_ALLOW_CREATE_ORGANIZATION: true\n    repository:\n      DEFAULT_BRANCH: master\n'})}),"\n",(0,r.jsx)(n.h2,{id:"argo-cd-\uc2dc\uc2a4\ud15c-\uce74\ud0c8\ub85c\uadf8",children:"Argo CD \uc2dc\uc2a4\ud15c \uce74\ud0c8\ub85c\uadf8"}),"\n",(0,r.jsx)(n.p,{children:"Argo CD \uce74\ud0c8\ub85c\uadf8:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'server:\n  ingress:\n    enabled: true\n    annotations:\n      nginx.ingress.kubernetes.io/rewrite-target: /\n      nginx.ingress.kubernetes.io/force-ssl-redirect: "true"\n      nginx.ingress.kubernetes.io/backend-protocol: "HTTPS"\n    ingressClassName: "nginx"\n    hostname: "argocd.{{ .Domain }}"\n    extraTls:\n      - hosts:\n        - argocd.{{ .Domain }}\n        secretName: platform\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mlflow\uc640-s3-\uc0ac\uc6a9\ud560-\ub54c",children:"MLflow\uc640 S3 \uc0ac\uc6a9\ud560 \ub54c"}),"\n",(0,r.jsx)(n.p,{children:"Mlflow \uce74\ud0c8\ub85c\uadf8:"}),"\n",(0,r.jsx)(n.p,{children:"\uc544\ub798 \ud56d\ubaa9\uc740 \uc0ac\uc774\ud2b8\uc5d0 \ub530\ub77c \uc218\uc815\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"hostname"}),"\n",(0,r.jsx)(n.li,{children:"hosts"}),"\n",(0,r.jsx)(n.li,{children:"password"}),"\n",(0,r.jsx)(n.li,{children:"externalS3 > host, port, accessKeyID, accessKeySecret"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'tracking:\n  auth:\n    username: mlflow\n    password: xxxxxxxxx\n  service:\n    type: ClusterIP\n  ingress:\n    enabled: true\n    pathType: ImplementationSpecific\n    hostname: {{ .Name }}.{{ .Domain }}\n    ingressClassName: "nginx"\n    annotations:\n      nginx.ingress.kubernetes.io/proxy-body-size: 2048m\n      cert-manager.io/cluster-issuer: "selfsigned-issuer" \n      cert-manager.io/duration: 8760h  \n      cert-manager.io/renew-before: 720h\n    path: /\n    tls: false\n    extraTls:\n    - hosts:\n        - {{ .Name }}.{{ .Domain }}\n      secretName: {{ .Name }}-tls-secret\n  extraArgs:\n    - "--gunicorn-opts=--timeout 600"\npostgresql:\n  auth:\n    username: mlflow\n    password: xxxxxxxx\nminio:\n  enabled: false\nexternalS3:\n  host: "192.168.1.21"\n  port: 9000\n  useCredentialsInSecret: true\n  accessKeyID: "{{ .AccessKey }}"\n  accessKeySecret: "{{ .SecretKey }}"\n  protocol: "http"\n  bucket: "{{ .Path }}"\n  serveArtifacts: true\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mlflow\uc640--\ub0b4\ubd80-minio-\uc0ac\uc6a9\ud560-\ub54c",children:"MLflow\uc640  \ub0b4\ubd80 minio \uc0ac\uc6a9\ud560 \ub54c"}),"\n",(0,r.jsx)(n.p,{children:"Mlflow \uce74\ud0c8\ub85c\uadf8:"}),"\n",(0,r.jsx)(n.p,{children:"\uc544\ub798 \ud56d\ubaa9\uc740 \uc0ac\uc774\ud2b8\uc5d0 \ub530\ub77c \uc218\uc815\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"password"}),"\n",(0,r.jsx)(n.li,{children:"minio > rootPassword"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'tracking:\n  auth:\n    username: mlflow\n    password: xxxxxxxxx\n  service:\n    type: ClusterIP\n  ingress:\n    enabled: true\n    pathType: ImplementationSpecific\n    hostname: {{ .Name }}.{{ .Domain }}\n    ingressClassName: "nginx"\n    annotations:\n      nginx.ingress.kubernetes.io/proxy-body-size: 2048m\n      cert-manager.io/cluster-issuer: "selfsigned-issuer" \n      cert-manager.io/duration: 8760h  \n      cert-manager.io/renew-before: 720h\n    path: /\n    tls: false\n    extraTls:\n    - hosts:\n        - {{ .Name }}.{{ .Domain }}\n      secretName: {{ .Name }}-tls-secret\n  extraArgs:\n    - "--gunicorn-opts=--timeout 600"\npostgresql:\n  auth:\n    username: mlflow\n    password: xxxxxxxx\nminio:\n  enabled: true\n  auth:\n    rootUser: mlflow\n    rootPassword: xxxxxxxx\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mlflow\uc640-\uc678\ubd80-minio-\uc0ac\uc6a9\ud560-\ub54c",children:"MLflow\uc640 \uc678\ubd80 minio \uc0ac\uc6a9\ud560 \ub54c"}),"\n",(0,r.jsx)(n.p,{children:"Mlflow \uce74\ud0c8\ub85c\uadf8:"}),"\n",(0,r.jsx)(n.p,{children:"\uc544\ub798 \ud56d\ubaa9\uc740 \uc0ac\uc774\ud2b8\uc5d0 \ub530\ub77c \uc218\uc815\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"hostname"}),"\n",(0,r.jsx)(n.li,{children:"hosts"}),"\n",(0,r.jsx)(n.li,{children:"password"}),"\n",(0,r.jsx)(n.li,{children:"minio > host, port, accessKeyID, accessKeySecret"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'tracking:\n  auth:\n    username: mlflow\n    password: xxxxxxx\n  service:\n    type: ClusterIP\n  ingress:\n    enabled: true\n    pathType: ImplementationSpecific\n    hostname: {{ .Name }}.{{ .Domain }}\n    ingressClassName: "nginx"\n    annotations:\n      nginx.ingress.kubernetes.io/proxy-body-size: 2048m\n      cert-manager.io/cluster-issuer: "selfsigned-issuer" \n      cert-manager.io/duration: 8760h  \n      cert-manager.io/renew-before: 720h\n    path: /\n    tls: false\n    extraTls:\n    - hosts:\n        - {{ .Name }}.{{ .Domain }}\n      secretName: {{ .Name }}-tls-secret\n  extraArgs:\n    - "--gunicorn-opts=--timeout 600"\npostgresql:\n  auth:\n    username: mlflow\n    password: xxxxxxxx\nminio:\n  enabled: false\nexternalS3:\n  host: "minio.stg.paasup.io"\n  port: 443\n  useCredentialsInSecret: true\n  accessKeyID: "{{ .AccessKey }}"\n  accessKeySecret: "{{ .SecretKey }}"\n  protocol: "https"\n  bucket: "{{ .Path }}"\n  serveArtifacts: true\n'})})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var t=s(6540);const r={},a=t.createContext(r);function i(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);